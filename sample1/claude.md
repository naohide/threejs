# サイバーパンク パーティクルシステム - アプリケーションガイド

## 概要

ハンドトラッキング（MediaPipe Hands）を使用して12,000個のパーティクルをリアルタイムで制御する、サイバーパンクテーマのインタラクティブパーティクルシステム。Three.jsとWebGLで構築。

## ビジュアルスタイル

- **テーマ**: ハードコアサイバーパンク
- **背景**: アニメーショングリッドとスキャンライン付きの深い黒
- **エフェクト**: ビネットオーバーレイ、ネオングロー、加算ブレンディング
- **フォント**: Orbitron（等幅、ネオンシアン）
- **HUD**: FPS、パーティクル数、手の状態を四隅に表示

## 動作要件

- WebGL対応のモダンブラウザ
- ウェブカメラへのアクセス
- デスクトップ推奨（モバイル非対応）

## 起動方法

1. ブラウザで `index.html` を開く
2. カメラの許可を求められたら許可する
3. ウェブカメラの前で手を動かす

---

## 手のコントロール

### 左手（コマンドコントローラー）

パーティクルが形成するテキストの形状と色を制御します。

| ジェスチャー | 表示テキスト | 色 |
|-------------|-------------|-----|
| 1本指 | Hello | ネオンブルー (#00FFFF) |
| 2本指 | Gemini3 | ネオンイエロー (#FFFF00) |
| 3本指 | Awesome | ネオンピンク (#FF00FF) |
| 4本指 | Goodbye | ネオングリーン (#00FF88) |
| 5本指（パー） | キャッチモード | - |

### 右手（物理インタラクター）

人差し指の先端を追跡してパーティクルと相互作用します。

| ジェスチャー | 効果 |
|-------------|------|
| 指差し / グー | 触れたパーティクルを強く散らす（XY平面のみ、Z軸の歪みなし） |
| 5本指（パー） | **星雲モード** - パーティクルが3D空間に拡散し、水の波紋エフェクトが発生 |

### 両手コンボ（究極エフェクト）

| 条件 | 効果 |
|------|------|
| 両手パー（5本指ずつ） | **バスケットボールモード** - 全パーティクルが左手の手のひらに引き寄せられ、オレンジ色と黒い縫い目線で回転する3Dバスケットボールを形成。パーティクルは跳ねる軌道で飛んでくる。 |

---

## 技術仕様

| パラメータ | 値 |
|-----------|-----|
| パーティクル数 | 12,000 |
| パーティクルサイズ | 2.4 |
| 戻り速度（Lerp係数） | 0.16 |
| 反発半径 | 150px |
| 反発強度 | 80 |
| 最大追跡手数 | 2 |
| テキストフォントサイズ | 75px 太字 |

## アーキテクチャ

```
index.html（単一ファイル）
├── CSS
│   ├── サイバーパンクスタイリング
│   ├── HUD要素
│   ├── スキャンライン＆ビネット
│   └── グリッド背景アニメーション
├── HTML
│   ├── Three.jsキャンバスコンテナ
│   ├── ウェブカメラビデオ要素
│   ├── 非表示テキスト生成キャンバス
│   └── HUD表示要素
└── JavaScript
    ├── Three.jsパーティクルシステム
    ├── MediaPipe Hands統合
    ├── テキスト座標生成（キャンバスピクセルスキャン）
    ├── ジェスチャー認識（指カウント）
    ├── 物理シミュレーション（反発、lerp、速度）
    └── 特殊エフェクト（星雲、バスケットボール、波紋）
```

## 主な機能

1. **テキストモーフィング**: パーティクルがテキスト形状間をスムーズに遷移
2. **リアルタイムハンドトラッキング**: MediaPipeが最大2つの手を同時検出
3. **物理ベースインタラクション**: パーティクルが速度と減衰で手の動きに反応
4. **星雲モード**: サイン波の波紋エフェクト付き3Dパーティクルクラウド
5. **バスケットボール形成**: 計算された縫い目線付きフィボナッチ球分布
6. **跳ねる軌道**: バスケットボール引き寄せ時のY軸サイン波アニメーション

## 依存関係（CDN）

- Three.js r128
- MediaPipe Hands
- MediaPipe Camera Utils
- Google Fonts (Orbitron)

---

## インタラクションフロー

```
1. アプリ起動 → パーティクルがランダムに散らばる
2. 手なし → パーティクルが"Hello"を形成（デフォルト）
3. 左手ジェスチャー → テキスト/色を変更
4. 右手タッチ → パーティクルを散らす
5. 右手パー → 星雲モード（3D拡散）
6. 両手パー → バスケットボールコンボエフェクト
7. 手を離す → パーティクルがテキスト形状に戻る
```
